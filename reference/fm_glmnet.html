<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content='fm_glmnet() is a wrapper for glmnet() (from package glmnet)
that fits into the modeltuner framework.
The model is specified by the arguments formula and data.
The resulting models belong to the class of so-called iteratively fitted models,
see ifm and vignette("ifm") for information.'><title>formula-based wrapper for glmnet() — fm_glmnet • modeltuner</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="formula-based wrapper for glmnet() — fm_glmnet"><meta property="og:description" content='fm_glmnet() is a wrapper for glmnet() (from package glmnet)
that fits into the modeltuner framework.
The model is specified by the arguments formula and data.
The resulting models belong to the class of so-called iteratively fitted models,
see ifm and vignette("ifm") for information.'><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">modeltuner</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.10</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/modeltuner.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/ifm.html">Fitting and tuning Iteratively Fitted Models</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1><code>formula</code>-based wrapper for <code>glmnet()</code></h1>
      
      <div class="d-none name"><code>fm_glmnet.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>fm_glmnet()</code> is a wrapper for <code>glmnet()</code> (from package <a href="https://CRAN.R-project.org/package=glmnet" class="external-link"><span class="pkg">glmnet</span></a>)
that fits into the <code>modeltuner</code> framework.
The model is specified by the arguments <code>formula</code> and <code>data</code>.
The resulting models belong to the class of so-called <em>iteratively fitted models</em>,
see <code><a href="ifm.html">ifm</a></code> and <code><a href="../articles/ifm.html">vignette("ifm")</a></code> for information.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">fm_glmnet</span><span class="op">(</span></span>
<span>  <span class="va">formula</span>,</span>
<span>  <span class="va">data</span>,</span>
<span>  weights <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  family <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"gaussian"</span>, <span class="st">"binomial"</span>, <span class="st">"poisson"</span><span class="op">)</span>,</span>
<span>  pref_iter <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  na.action <span class="op">=</span> <span class="va">na.omit</span>,</span>
<span>  keep_x <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for fm_glmnet</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span></span>
<span>  <span class="va">object</span>,</span>
<span>  <span class="va">newdata</span>,</span>
<span>  pref_iter <span class="op">=</span> <span class="va">object</span><span class="op">$</span><span class="va">pref_iter</span>,</span>
<span>  s <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">tail</a></span><span class="op">(</span><span class="va">object</span><span class="op">$</span><span class="va">fit</span><span class="op">$</span><span class="va">lambda</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for fm_glmnet</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef</a></span><span class="op">(</span><span class="va">object</span>, s <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">tail</a></span><span class="op">(</span><span class="va">object</span><span class="op">$</span><span class="va">fit</span><span class="op">$</span><span class="va">lambda</span>, <span class="fl">1</span><span class="op">)</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for fm_glmnet</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  coefs <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  intercept <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  plot_type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"colors"</span>, <span class="st">"facets"</span><span class="op">)</span>,</span>
<span>  size <span class="op">=</span> <span class="fl">0.6</span>,</span>
<span>  lwd <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  plot <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  zeroline <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>formula</dt>
<dd><p>A <code>formula</code>.</p></dd>


<dt>data</dt>
<dd><p>A <code>data.frame</code></p></dd>


<dt>weights</dt>
<dd><p>weights</p></dd>


<dt>family, ...</dt>
<dd><p>Passed to <code><a href="https://glmnet.stanford.edu/reference/glmnet.html" class="external-link">glmnet</a>()</code>. Not all will work properly:
avoid argument settings that change the structure of the output of <code>glmnet()</code>!
In <code>plot.fm_glmnet()</code>,  “...” are passed to both <code>geom_point()</code> and <code>geom_line()</code>.</p></dd>


<dt>pref_iter</dt>
<dd><p>An integer, the <em>preferred iteration</em>. This is the iteration that is used by default
when predictions from the model are computed with <code><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict()</a></code>.
If <code>pref_iter=NULL</code>, the <em>last</em> iteration will be used.
See <code><a href="ifm.html">ifm</a></code> and <code><a href="../articles/ifm.html">vignette("ifm")</a></code> for information on the concepts of
<em>iteratively fitted models</em> and preferred iterations.
The preferred iteration of a model can be changed without re-fitting the model,
see <code><a href="set_pref_iter.html">set_pref_iter</a>()</code>.</p></dd>


<dt>na.action</dt>
<dd><p>A function which indicates what should happen when the data contain <code>NA</code>s.
<code><a href="https://rdrr.io/r/stats/na.fail.html" class="external-link">na.omit</a></code> is the default, <code><a href="https://rdrr.io/r/stats/na.fail.html" class="external-link">na.exclude</a></code> or <code><a href="https://rdrr.io/r/stats/na.fail.html" class="external-link">na.fail</a></code>
could be useful alternative settings.</p></dd>


<dt>keep_x</dt>
<dd><p>Logical: Whether to keep the model matrix <code>x</code> as a component of the return value.</p></dd>


<dt>object, x</dt>
<dd><p>Object of class “fm_glmnet”.</p></dd>


<dt>newdata</dt>
<dd><p>Data for prediction.</p></dd>


<dt>s</dt>
<dd><p>Choice of lambda.</p></dd>


<dt>coefs</dt>
<dd><p>Character vector: An optional subset of <code>x</code> variables' names to be included in plot.
By default, all are included.</p></dd>


<dt>intercept</dt>
<dd><p>Logical: Whether to include the intercept's profile in the plot.</p></dd>


<dt>plot_type</dt>
<dd><p>A character string, either <code>colors</code> (profiles of all coefficients are shown in same facet
distinguished by colors) or <code>facet</code> (profiles of different coefficients appear in separate facets).</p></dd>


<dt>size</dt>
<dd><p>Graphic detail: Size of point.</p></dd>


<dt>lwd</dt>
<dd><p>Graphic detail: Line width of interpolating line.</p></dd>


<dt>plot</dt>
<dd><p>Logical: If <code>TRUE</code>, a ggplot is returned, if <code>FALSE</code> a <code>data.frame</code>.
<code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> first prepares a <code>data.frame</code> and then draws some ggplot using this data,
with limited options for customization.
If you want to design your own plot, you can set <code>plot=FALSE</code>, and use the <code>data.frame</code> returned by <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code>
to create your plot.</p></dd>


<dt>zeroline</dt>
<dd><p>Logical: Whether to include a horizontal reference line at level 0.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p><code>fm_glmnet()</code> returns a list of class “fm_glmnet” with components</p><ul><li><p><em>fit</em>: the fitted model, of class “glmnet”;</p></li>
<li><p><em>formula</em>: the formula;</p></li>
<li><p><em>x</em>: the model matrix (resulting from the <code>formula</code> using <code><a href="https://rdrr.io/r/stats/model.matrix.html" class="external-link">model.matrix()</a></code>);</p></li>
<li><p><em>weights</em>: the fitting weights;</p></li>
<li><p><em>xlevels</em>: list of the levels of the factors included in the model;</p></li>
<li><p><em>pref_iter</em>: the preferred iteration, an integer (see argument <code>pref_iter</code>);</p></li>
<li><p><em>na.action</em>: the <code><a href="https://rdrr.io/r/stats/na.action.html" class="external-link">na.action</a></code> used during data preparation;</p></li>
<li><p><em>contrasts</em>: the <code><a href="https://rdrr.io/r/stats/contrasts.html" class="external-link">contrasts</a></code> used during data preparation;</p></li>
<li><p><em>call</em>: the matched call generating the model.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p><code>family</code> must be one of <code>"gaussian"</code>, <code>"binomial"</code>, <code>"poisson"</code>.</p>
<p>The parameters <code>x</code> and <code>y</code> to be passed to <code>glmnet()</code> are extracted from
<code>formula</code> and <code>data</code> by means of <code><a href="https://rdrr.io/r/stats/model.frame.html" class="external-link">model.frame</a></code>, <code><a href="https://rdrr.io/r/stats/model.matrix.html" class="external-link">model.matrix</a></code>
and <code><a href="https://rdrr.io/r/stats/model.extract.html" class="external-link">model.response</a></code>.</p>
<p><em>Features of cross-validation of models generated with</em> <code>fm_glmnet()</code>:</p><ul><li><p>The model class “fm_glmnet” belongs to the class of so-called
<em>iteratively fitted models</em>; see <a href="ifm.html">ifm</a> and <code><a href="../articles/ifm.html">vignette("ifm")</a></code> for information on
the peculiarities of cross-validating such models. In particular,
note the role of the parameter <code>iter</code> in <code><a href="cv.html">cv</a>()</code>.</p></li>
<li><p>When <code><a href="cv.html">cv()</a></code> is executed with <code>keep_fits=TRUE</code>, the fitted models from
cross-validation that are stored in the result (and returned by <code><a href="extract_fits.html">extract_fits</a>()</code>)
will not be of class “fm_glmnet”, but of class “glmnet”,</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="methods-by-generic-">Methods (by generic)<a class="anchor" aria-label="anchor" href="#methods-by-generic-"></a></h2>
    
<ul><li><p><code>predict(fm_glmnet)</code>: <code><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict()</a></code> method</p></li>
<li><p><code>coef(fm_glmnet)</code>: <code><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef()</a></code> method</p></li>
<li><p><code>plot(fm_glmnet)</code>: <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> method. Produces a coefficient profile plot.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="https://glmnet.stanford.edu/reference/glmnet.html" class="external-link">glmnet</a></code>, <code><a href="https://glmnet.stanford.edu/reference/cv.glmnet.html" class="external-link">cv.glmnet</a></code>  (both from package <a href="https://CRAN.R-project.org/package=glmnet" class="external-link"><span class="pkg">glmnet</span></a>);
<a href="ifm.html">ifm</a> and <code><a href="../articles/ifm.html">vignette("ifm")</a></code>; <code><a href="fit.html">fit.model_fm_glmnet</a></code>; <code><a href="set_pref_iter.html">set_pref_iter</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">d</span> <span class="op">&lt;-</span> <span class="fu"><a href="simuldat.html">simuldat</a></span><span class="op">(</span><span class="op">)</span>  </span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">mod1</span> <span class="op">&lt;-</span> <span class="fu">fm_glmnet</span><span class="op">(</span><span class="va">Y</span> <span class="op">~</span><span class="va">.</span>, <span class="va">d</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Fitted model of class ‘fm_glmnet’ </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   formula:     Y ~ X1 + X2 + X3 + X4 + X5 + X6 + X7 + X8 + X9 + </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                    X10 + g - 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   data:        d (500 rows)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   call:        fm_glmnet(formula = Y ~ ., data = d)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   iterations:  65</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   pref_iter:   65</span>
<span class="r-in"><span><span class="op">(</span><span class="va">mod2</span> <span class="op">&lt;-</span> <span class="fu">fm_glmnet</span><span class="op">(</span><span class="va">Y</span> <span class="op">~</span><span class="va">.</span><span class="op">^</span><span class="fl">2</span>, <span class="va">d</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Fitted model of class ‘fm_glmnet’ </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   formula:     Y ~ X1 + X2 + X3 + X4 + X5 + X6 + X7 + X8 + X9 + </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                    X10 + g + X1:X2 + X1:X3 + X1:X4 + X1:X5 + X1:X6 + </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                    X1:X7 + X1:X8 + X1:X9 + X1:X10 + X1:g + X2:X3 + </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                    ... [formula cut off - 66 terms on rhs]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   data:        d (500 rows)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   call:        fm_glmnet(formula = Y ~ .^2, data = d)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   iterations:  88</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   pref_iter:   88</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Plot mod1:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">mod1</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="fm_glmnet-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="co"># Plot profiles for a subset of the coefficients' only and the intercept</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">mod1</span>, coefs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"X"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span>, intercept <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="fm_glmnet-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Cross-validate</span></span></span>
<span class="r-in"><span><span class="va">mycv</span> <span class="op">&lt;-</span> <span class="fu"><a href="cv.html">cv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="model.html">model</a></span><span class="op">(</span><span class="va">mod1</span>, label <span class="op">=</span> <span class="st">"mod1"</span><span class="op">)</span>, </span></span>
<span class="r-in"><span>             <span class="fu"><a href="model.html">model</a></span><span class="op">(</span><span class="va">mod2</span>, label <span class="op">=</span> <span class="st">"mod2"</span><span class="op">)</span><span class="op">)</span>, </span></span>
<span class="r-in"><span>           nfold <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">mycv</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> --- A “cv” object containing 2 validated models ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Validation procedure: Complete k-fold Cross-Validation</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Number of obs in data:  500</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Number of test sets:      5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Size of test sets:      100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Size of training sets:  400</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Models:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ‘mod1’:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   model class:  fm_glmnet</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   formula:      Y ~ X1 + X2 + X3 + X4 + X5 + X6 + X7 + X8 + X9 + </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                     X10 + g - 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   metric:       rmse</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ‘mod2’:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   model class:  fm_glmnet</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   formula:      Y ~ X1 + X2 + X3 + X4 + X5 + X6 + X7 + X8 + X9 + </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                     X10 + g + X1:X2 + X1:X3 + X1:X4 + X1:X5 + X1:X6 + </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                     X1:X7 + X1:X8 + X1:X9 + X1:X10 + X1:g + X2:X3 + </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                     ... [formula cut off - 66 terms on rhs]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   metric:       rmse</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Preferred iterations:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   model ‘mod1’:  min (iter=57)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   model ‘mod2’:  min (iter=30)</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Plot cv_performance and evaluation_log:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="cv_performance.html">cv_performance</a></span><span class="op">(</span><span class="va">mycv</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="fm_glmnet-3.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="evaluation_log.html">evaluation_log</a></span><span class="op">(</span><span class="va">mycv</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="fm_glmnet-4.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Mathias Ambuehl.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

