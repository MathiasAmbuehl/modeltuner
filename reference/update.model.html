<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="The method update.model() allows updating selected arguments in the original call to the model fitting function,
in particular formula, data.
Changing the model fitting function is not possible, however.
update.multimodel() will apply update.model() to each of its models.
absent(), unchanged() and null() are auxiliary functions designed for usage in update.model() and multimodel().
absent() states the removal/absence of an argument in the model fitting call,
unchanged() leaves an argument unchanged, and null() attributes an explicit NULL to a formal parameter.
Find more about the usage of these functions in the the &amp;#8220;Details&amp;#8221; section and the examples."><title>Update an object of class “model” or “multimodel” — update.model • modeltuner</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Update an object of class “model” or “multimodel” — update.model"><meta property="og:description" content="The method update.model() allows updating selected arguments in the original call to the model fitting function,
in particular formula, data.
Changing the model fitting function is not possible, however.
update.multimodel() will apply update.model() to each of its models.
absent(), unchanged() and null() are auxiliary functions designed for usage in update.model() and multimodel().
absent() states the removal/absence of an argument in the model fitting call,
unchanged() leaves an argument unchanged, and null() attributes an explicit NULL to a formal parameter.
Find more about the usage of these functions in the the &amp;#8220;Details&amp;#8221; section and the examples."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">modeltuner</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.9</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/modeltuner.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/ifm.html">Fitting and tuning Iteratively Fitted Models</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Update an object of class “model” or “multimodel”</h1>
      
      <div class="d-none name"><code>update.model.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The method <code>update.model()</code> allows updating selected arguments in the original call to the model fitting function,
in particular <code>formula</code>, <code>data</code>.
Changing the model fitting function is not possible, however.
<code>update.multimodel()</code> will apply <code>update.model()</code> to each of its models.</p>
<p><code>absent()</code>, <code>unchanged()</code> and <code>null()</code> are auxiliary functions designed for usage in <code>update.model()</code> and <code><a href="multimodel.html">multimodel()</a></code>.
<code>absent()</code> states the removal/absence of an argument in the model fitting call,
<code>unchanged()</code> leaves an argument unchanged, and <code>null()</code> attributes an explicit <code>NULL</code> to a formal parameter.
Find more about the usage of these functions in the the “Details” section and the examples.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S3 method for model</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/update.html" class="external-link">update</a></span><span class="op">(</span></span>
<span>  <span class="va">object</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  label <span class="op">=</span> <span class="fu">label.model</span><span class="op">(</span><span class="va">object</span><span class="op">)</span>,</span>
<span>  add_fit <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  ignore_changes_in_arg <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for multimodel</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/update.html" class="external-link">update</a></span><span class="op">(</span><span class="va">object</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">absent</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">null</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">unchanged</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>object</dt>
<dd><p>A “model” or “multimodel”.</p></dd>


<dt>...</dt>
<dd><p>Arguments to be updated.</p></dd>


<dt>label</dt>
<dd><p>Character string: A label to be attributed to the model.</p></dd>


<dt>add_fit</dt>
<dd><p>Logical: Save the fitted object as a component of the result?</p></dd>


<dt>ignore_changes_in_arg</dt>
<dd><p>Parameter for internal use.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p><code>udpate.model()</code> returns the modified <a href="model.html">model</a>.
If “...” is empty, <code>x</code> is not changed. Otherwise, the output will not contain the model fit.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p><code>update(model, parameter=NULL)</code> is ambiguous -- it's clearer to use <code>null()</code> or <code>absent()</code>.</p>
<p>Using a dot in a formula can be ambiguous, too. <code>update(model, formula=new_formula)</code> <em>updates</em> the model's original formula
with <code>new_formula</code> (using <code><a href="https://rdrr.io/r/stats/update.formula.html" class="external-link">update.formula</a></code>).
In order to <em>replace</em> the existing formula by a different one containing a dot, use <code>update(model, formula=I(new_formula))</code>.
See the examples.</p>
<p><code>absent()</code>, <code>unchanged()</code> and <code>null()</code> can also be used in <code><a href="multimodel.html">multimodel()</a></code>, which uses <code>update.model()</code> internally.
As an example, <code>multimodel(lm(y~x), weights = list(w, absent()))</code> will return a multimodel containing the two model definitions
based on calls <code>lm(y~x, weights = w)</code> and <code>lm(y~x)</code>.
Always enclose <code>absent()</code>, <code>unchanged()</code> and <code>null()</code> in a <code><a href="https://rdrr.io/r/base/list.html" class="external-link">list()</a></code> if  several alternative model parameterizations are proposed
in <code><a href="multimodel.html">multimodel()</a></code>! The example won't work properly with <code>c(w, absent())</code> instead of <code>list(w, absent())</code>!</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="model.html">model</a></code>, <code><a href="multimodel.html">multimodel</a></code>; <code><a href="https://rdrr.io/r/stats/update.formula.html" class="external-link">update.formula</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://github.com/lme4/lme4/" class="external-link">lme4</a></span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="co"># Simluate data</span></span></span>
<span class="r-in"><span>  <span class="va">d</span> <span class="op">&lt;-</span> <span class="fu"><a href="simuldat.html">simuldat</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">(</span><span class="va">mixmod</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/lme4/man/lmer.html" class="external-link">lmer</a></span><span class="op">(</span><span class="va">Y</span> <span class="op">~</span> <span class="op">(</span><span class="va">X1</span><span class="op">|</span><span class="va">g</span><span class="op">)</span> <span class="op">+</span> <span class="va">X2</span> <span class="op">+</span> <span class="va">X3</span>, <span class="va">d</span>, REML <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>  </span></span>
<span class="r-in"><span>  <span class="co"># update.model</span></span></span>
<span class="r-in"><span>  <span class="va">m_REML</span> <span class="op">&lt;-</span> <span class="fu"><a href="model.html">model</a></span><span class="op">(</span><span class="va">mixmod</span>, label <span class="op">=</span> <span class="st">"REML"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="co"># update parater "REML"</span></span></span>
<span class="r-in"><span>  <span class="va">m_ML</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/update.html" class="external-link">update</a></span><span class="op">(</span><span class="va">m_REML</span>, REML <span class="op">=</span> <span class="cn">FALSE</span>, label <span class="op">=</span> <span class="st">"ML"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  </span></span>
<span class="r-in"><span>  <span class="co"># absent(), unchanged(), null()</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/stats/update.html" class="external-link">update</a></span><span class="op">(</span><span class="va">m_REML</span>, REML <span class="op">=</span> <span class="fu">absent</span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">$</span><span class="va">call</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/stats/update.html" class="external-link">update</a></span><span class="op">(</span><span class="va">m_REML</span>, REML <span class="op">=</span> <span class="fu">unchanged</span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">$</span><span class="va">call</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/stats/update.html" class="external-link">update</a></span><span class="op">(</span><span class="va">m_REML</span>, REML <span class="op">=</span> <span class="fu">null</span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">$</span><span class="va">call</span> <span class="co"># Note: not meaningful - fit() will fail</span></span></span>
<span class="r-in"><span>  </span></span>
<span class="r-in"><span>  <span class="co"># update.multimodel</span></span></span>
<span class="r-in"><span>  <span class="va">mm</span> <span class="op">&lt;-</span> <span class="fu"><a href="multimodel.html">multimodel</a></span><span class="op">(</span><span class="va">m_REML</span>, REML <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">FALSE</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">w</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">d</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/stats/update.html" class="external-link">update</a></span><span class="op">(</span><span class="va">mm</span>, weights <span class="op">=</span> <span class="va">w</span><span class="op">)</span></span></span>
<span class="r-in"><span>  </span></span>
<span class="r-in"><span>  <span class="co"># Dots in formula: </span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/stats/update.html" class="external-link">update</a></span><span class="op">(</span><span class="va">m_REML</span>, formula <span class="op">=</span> <span class="va">.</span> <span class="op">~</span> <span class="va">.</span> <span class="op">-</span> <span class="va">X2</span><span class="op">)</span></span></span>
<span class="r-in"><span>  </span></span>
<span class="r-in"><span>  <span class="co"># Updating vs replacing a formula:</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/stats/update.html" class="external-link">update</a></span><span class="op">(</span><span class="va">m_REML</span>, formula <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">Y</span><span class="op">)</span> <span class="op">~</span> <span class="va">.</span><span class="op">)</span>    <span class="co"># updates the formula</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/stats/update.html" class="external-link">update</a></span><span class="op">(</span><span class="va">m_REML</span>, formula <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html" class="external-link">I</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">Y</span><span class="op">)</span> <span class="op">~</span> <span class="va">.</span><span class="op">)</span><span class="op">)</span> <span class="co"># replaces the formula</span></span></span>
<span class="r-in"><span>  </span></span>
<span class="r-in"><span>  <span class="co"># Usage of unchanged() in multimodel()</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="multimodel.html">multimodel</a></span><span class="op">(</span><span class="va">m_REML</span>, REML <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu">unchanged</span><span class="op">(</span><span class="op">)</span>, <span class="cn">FALSE</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> --- A “multimodel” object containing 2 models ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ‘REML1’:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   model class:  lmerMod</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   formula:      Y ~ (X1 | g) + X2 + X3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   data:         data.frame [500 x 12], </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 input as: ‘data = d’</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   call:         lmer(formula = Y ~ (X1 | g) + X2 + X3, data = data, </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                     REML = TRUE)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ‘REML2’:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   model class:  lmerMod</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   formula:      Y ~ (X1 | g) + X2 + X3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   data:         data.frame [500 x 12], </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 input as: ‘data = d’</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   call:         lmer(formula = Y ~ (X1 | g) + X2 + X3, data = data, </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                     REML = FALSE)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Parameter table:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        REML</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> REML1  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> REML2 FALSE</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Mathias Ambuehl.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

